---
title: "A Replication of Karlan and List (2007)"
author: "Sarah Howard"
date: 23 April 2025
callout-appearance: minimal # this hides the blue "i" icon on .callout-notes
---


## Introduction

Dean Karlan at Yale and John List at the University of Chicago conducted a field experiment to test the effectiveness of different fundraising letters. They sent out 50,000 fundraising letters to potential donors, randomly assigning each letter to one of three treatments: a standard letter, a matching grant letter, or a challenge grant letter. They published the results of this experiment in the _American Economic Review_ in 2007. The article and supporting data are available from the [AEA website](https://www.aeaweb.org/articles?id=10.1257/aer.97.5.1774) and from Innovations for Poverty Action as part of [Harvard's Dataverse](https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/27853&version=4.2).

_to do: expand on the description of the experiment._

This project seeks to replicate their results.


## Data

### Description

# ðŸ“Š Dataset Summary: *Karlan & List (2007)* â€“ Charitable Giving Field Experiment

## Overview
This dataset contains data from a large-scale natural field experiment investigating how different types of matching grants influence charitable giving.

- **Total Observations**: 50,083 individuals  
- **Variables**: 51  
- **Source**: *Does Price Matter in Charitable Giving?* (Karlan & List, 2007)

---

## ðŸŽ¯ Experimental Design Variables

| Variable     | Description |
|--------------|-------------|
| `treatment`  | 1 if participant received a matching grant offer, 0 if control group |
| `ratio`      | Categorical: Match ratio (e.g., 1:1, 2:1, 3:1) |
| `ratio2`, `ratio3` | Dummies for 2:1 and 3:1 match conditions |
| `size`       | Categorical: Maximum match size ($25k, $50k, $100k, or unstated) |
| `size25`, `size50`, `size100`, `sizeno` | Dummy variables for match size |
| `ask1`, `ask2`, `ask3` | Suggested donation amounts (based on prior giving) |

---

## ðŸ’¸ Donation Behavior Variables

| Variable      | Description |
|---------------|-------------|
| `gave`        | Binary: 1 if donated, 0 otherwise |
| `amount`      | Amount donated (USD) |
| `amountchange` | Change in amount donated vs. previous gift |

---

## ðŸ§‘â€ðŸ¤â€ðŸ§‘ Demographic & ZIP Code-level Data

| Variable            | Description |
|---------------------|-------------|
| `pwhite`, `pblack`  | Proportion of white and Black residents |
| `page18_39`         | Proportion aged 18â€“39 |
| `ave_hh_sz`         | Average household size |
| `median_hhincome`   | Median household income |
| `powner`            | Proportion of homeowners |
| `psch_atlstba`      | Proportion with at least a bachelor's degree |
| `pop_propurban`     | Proportion of population in urban areas |

---

## ðŸ—³ï¸ Political Context Variables

| Variable      | Description |
|---------------|-------------|
| `red0`, `blue0` | Binary: Red or blue state indicator |
| `redcty`, `bluecty` | Binary: Red or blue county indicator |

---

## â— Missing Data
Some variables (especially demographic ones) have missing values for ~2,000 cases due to ZIP-level data availability.

----

:::: {.callout-note collapse="true"}
### Variable Definitions

| Variable             | Description                                                         |
|----------------------|---------------------------------------------------------------------|
| `treatment`          | Treatment                                                           |
| `control`            | Control                                                             |
| `ratio`              | Match ratio                                                         |
| `ratio2`             | 2:1 match ratio                                                     |
| `ratio3`             | 3:1 match ratio                                                     |
| `size`               | Match threshold                                                     |
| `size25`             | \$25,000 match threshold                                            |
| `size50`             | \$50,000 match threshold                                            |
| `size100`            | \$100,000 match threshold                                           |
| `sizeno`             | Unstated match threshold                                            |
| `ask`                | Suggested donation amount                                           |
| `askd1`              | Suggested donation was highest previous contribution                |
| `askd2`              | Suggested donation was 1.25 x highest previous contribution         |
| `askd3`              | Suggested donation was 1.50 x highest previous contribution         |
| `ask1`               | Highest previous contribution (for suggestion)                      |
| `ask2`               | 1.25 x highest previous contribution (for suggestion)               |
| `ask3`               | 1.50 x highest previous contribution (for suggestion)               |
| `amount`             | Dollars given                                                       |
| `gave`               | Gave anything                                                       |
| `amountchange`       | Change in amount given                                              |
| `hpa`                | Highest previous contribution                                       |
| `ltmedmra`           | Small prior donor: last gift was less than median \$35              |
| `freq`               | Number of prior donations                                           |
| `years`              | Number of years since initial donation                              |
| `year5`              | At least 5 years since initial donation                             |
| `mrm2`               | Number of months since last donation                                |
| `dormant`            | Already donated in 2005                                             |
| `female`             | Female                                                              |
| `couple`             | Couple                                                              |
| `state50one`         | State tag: 1 for one observation of each of 50 states; 0 otherwise  |
| `nonlit`             | Nonlitigation                                                       |
| `cases`              | Court cases from state in 2004-5 in which organization was involved |
| `statecnt`           | Percent of sample from state                                        |
| `stateresponse`      | Proportion of sample from the state who gave                        |
| `stateresponset`     | Proportion of treated sample from the state who gave                |
| `stateresponsec`     | Proportion of control sample from the state who gave                |
| `stateresponsetminc` | stateresponset - stateresponsec                                     |
| `perbush`            | State vote share for Bush                                           |
| `close25`            | State vote share for Bush between 47.5% and 52.5%                   |
| `red0`               | Red state                                                           |
| `blue0`              | Blue state                                                          |
| `redcty`             | Red county                                                          |
| `bluecty`            | Blue county                                                         |
| `pwhite`             | Proportion white within zip code                                    |
| `pblack`             | Proportion black within zip code                                    |
| `page18_39`          | Proportion age 18-39 within zip code                                |
| `ave_hh_sz`          | Average household size within zip code                              |
| `median_hhincome`    | Median household income within zip code                             |
| `powner`             | Proportion house owner within zip code                              |
| `psch_atlstba`       | Proportion who finished college within zip code                     |
| `pop_propurban`      | Proportion of population urban within zip code                      |


### Balance Test 

## âœ… Randomization Check: Treatment vs. Control Group Balance

To test the integrity of the random assignment, we compared several background variables between treatment and control groups using t-tests.

### ðŸ” Variables Tested:
- `mrm2`: Months since last donation  
- `years`: Years since first donation  
- `hpa`: Highest prior donation  
- `female`: Female indicator  
- `couple`: Couple indicator  

### ðŸ“ˆ Key Findings:
- No statistically significant differences (p > 0.05) were found between groups for any variable tested.
- For `mrm2`, both a **t-test** and a **linear regression** (`mrm2 ~ treatment`) produced the same result (p = 0.905), confirming the methods agree.

### ðŸ§  Why It Matters:
These tests confirm that the treatment and control groups were **statistically similar before the intervention** â€” supporting the internal validity of the experiment.  
This is the purpose of **Table 1** in the paper: to demonstrate that any differences in donation behavior can be attributed to the matching grant treatment, not pre-existing group differences.



## Experimental Results

### Charitable Contribution Made

First, I analyze whether matched donations lead to an increased response rate of making a donation. 

## ðŸ“Š Response Rate by Treatment Group

We visualize whether being offered a matching donation affects the likelihood of donating. This barplot compares the donation response rate between the treatment and control groups.

```{python}
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

# Load the dataset
data_path = "karlan_list_2007.dta"  # Replace with correct relative path if needed
df = pd.read_stata(data_path)

# Compute donation rate by treatment group
donation_rates = df.groupby("treatment")["gave"].mean().reset_index()
donation_rates["Group"] = donation_rates["treatment"].map({1: "Treatment", 0: "Control"})

# Plot the barplot
plt.figure(figsize=(6, 4))
sns.barplot(data=donation_rates, x="Group", y="gave", palette="Blues_d")
plt.ylabel("Proportion Donated")
plt.xlabel("Group")
plt.title("Donation Response Rate: Treatment vs Control")
plt.ylim(0, 0.03)
plt.tight_layout()
plt.show()

quarto render data_analysis.ipynb
```{embed}
data_analysis.html


